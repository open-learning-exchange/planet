<h3 mat-dialog-title>Examination for {{userDetail.firstName ? userDetail.firstName + ' ' + userDetail.middleName + ' ' + userDetail.lastName : 'N/A'}} submitted on {{event.date | date: 'medium'}}</h3>
<h3 *ngIf="!event.selfExamination" mat-dialog-title i18n>Performed by: {{performedBy}}</h3>

<h4 class="primary-text-color" i18n>Patient Information</h4>
<p><b>Name: </b>{{userDetail.firstName ? userDetail.firstName + ' ' + userDetail.middleName + ' ' + userDetail.lastName : 'N/A'}}</p>
<p><b>Date: </b>{{event.date | date: 'medium'}}</p>
<p><b>DOB: </b>{{(userDetail.birthDate | date: 'longDate') || 'N/A'}}</p>
<p><b>Email: </b>{{userDetail.email || 'N/A'}}</p>
<p><b>Phone: </b>{{userDetail.phoneNumber || 'N/A'}}</p>
<p><b>Language: </b>{{userDetail.language || 'N/A'}}</p>
<p><b>Birthplace: </b>{{userDetail.birthplace || 'N/A'}}</p>
<h4 class="primary-text-color" i18n>Emergency Contact</h4>
<p><b i18n>Name: </b>{{healthDetail?.emergencyContactName || 'N/A'}}</p>
<p><b i18n>Type: </b>{{healthDetail?.emergencyContactType || 'N/A'}}</p>
<p><b i18n>Contact: </b>{{healthDetail?.emergencyContact || 'N/A'}}</p>

<h4 class="primary-text-color" i18n>Special Needs</h4>
<td-markdown [content]="healthDetail?.specialNeeds || 'N/A'"></td-markdown>

<h4 class="primary-text-color" i18n>Notes</h4>
<td-markdown [content]="healthDetail?.notes || 'N/A'"></td-markdown>

<mat-dialog-content>
  <h3 class="primary-text-color" *ngIf="hasVital" i18n>Vitals</h3>
  <p *ngIf="event.temperature"><b i18n>Temperature: </b>{{event.temperature}} Â°C</p>
  <p *ngIf="event.pulse"><b i18n>Pulse: </b>{{event.pulse}} bpm</p>
  <p *ngIf="event.bp"><b i18n>Blood Pressure: </b>{{event.bp}}</p>
  <p *ngIf="event.height"><b i18n>Height: </b>{{event.height}} cm</p>
  <p *ngIf="event.weight"><b i18n>Weight: </b>{{event.weight}} kg</p>
  <p *ngIf="event.vision"><b i18n>Vision: </b>{{event.vision}}</p>
  <p *ngIf="event.hearing"><b i18n>Hearing: </b>{{event.hearing}}</p>
  <ng-container *ngIf="conditions">
    <h3 class="primary-text-color" i18n>Conditions</h3>
    <p>{{conditions}}</p>
  </ng-container>
  <h3 class="primary-text-color" *ngIf="hasConditionAndTreatment" i18n>Other Notes</h3>
  <div *ngIf="event.notes"><p><b i18n>Observations & Notes: </b><td-markdown [content]="event.notes"></td-markdown></p><hr *ngIf="!isLastSection('notes')"></div>
  <div *ngIf="event.diagnosis"><p><b i18n>Diagnosis: </b><td-markdown [content]="event.diagnosis"></td-markdown></p><hr *ngIf="!isLastSection('diagnosis')"></div>
  <div *ngIf="event.treatments"><p><b i18n>Treatments: </b><td-markdown [content]="event.treatments"></td-markdown></p><hr *ngIf="!isLastSection('treatments')"></div>
  <div *ngIf="event.medications"><p><b i18n>Medications: </b><td-markdown [content]="event.medications"></td-markdown></p><hr *ngIf="!isLastSection('medications')"></div>
  <div *ngIf="event.immunizations"><p><b i18n>Immunizations: </b><td-markdown [content]="event.immunizations"></td-markdown></p><hr *ngIf="!isLastSection('immunizations')"></div>
  <div *ngIf="event.allergies"><p><b i18n>Allergies: </b><td-markdown [content]="event.allergies"></td-markdown></p><hr *ngIf="!isLastSection('allergies')"></div>
  <div *ngIf="event.xrays"><p><b i18n>X-rays: </b><td-markdown [content]="event.xrays"></td-markdown></p><hr *ngIf="!isLastSection('xrays')"></div>
  <div *ngIf="event.tests"><p><b i18n>Lab Tests: </b><td-markdown [content]="event.tests"></td-markdown></p><hr *ngIf="!isLastSection('tests')"></div>
  <div *ngIf="event.referrals"><p><b i18n>Referrals: </b><td-markdown [content]="event.referrals"></td-markdown></p></div>
</mat-dialog-content>
<mat-dialog-actions>
  <button type="button" mat-raised-button mat-dialog-close i18n>Close</button>
  <button type="button" color="primary" mat-dialog-close (click)="editExam(event)" *ngIf="canUpdate" mat-raised-button>
    <span i18n>Edit <ng-container *ngIf="minutes">({{ minutes }}:{{ seconds }})</ng-container></span> 
  </button>
</mat-dialog-actions>
