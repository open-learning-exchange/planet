<div *ngIf="showBanner" class="alert">
  <a [routerLink]="['/users/update', user.name]">
    <span class="banner-text" i18n>Please complete your profile to enjoy full features!</span>
  </a>
  <span class="closebtn" (click)="closeBanner()">&times;</span>
</div>
<mat-card class="horizontal">
  <img [src]="profileImg">
  <div class="dashboard-name">
    <h1 class="mat-title">{{displayName}}  ({{visits | number}})</h1>
    <h1 class="mat-title">
      <span class="mat-subheading-2"><ng-container *ngFor="let role of roles; last as last">
        <planet-role [role]="role"></planet-role><span *ngIf="!last">, </span>
      </ng-container></span>
    </h1>
  </div>
  <div class="date">
    <p>{{dateNow | date:'longDate'}}</p>
  </div>
  <div class="badges">
    <div *ngFor="let badgeGroup of badgeGroups">
      <span *ngFor="let course of badgesCourses[badgeGroup]" class="cursor-pointer" (click)="openCourseView(course)" [matTooltip]="course.doc.courseTitle">
        <mat-icon
          [ngClass]="{ 'primary-text-color': course.inCertification, 'grey-text-color': !course.inCertification }"
          fontSet="fa"
          [fontIcon]="badgeIcons[badgeGroup]">
        </mat-icon>
      </span>
    </div>
    <div class="cursor-pointer" (click)="openChallengeView()" matTooltip="challenge">
      <mat-icon>stars</mat-icon>
    </div>
  </div>
</mat-card>
<planet-dashboard-tile
  [cardTitle]="cardTitles.myLibrary"
  [cardType]="'myLibrary'"
  class="planet-library-theme"
  [itemData]="data.resources"
  [link]="'myLibrary'"
  [emptyLink]="'/resources'"
  [shelfName]="'resourceIds'">
</planet-dashboard-tile>
<planet-dashboard-tile
  [cardTitle]="cardTitles.myCourses"
  [cardType]="'myCourses'"
  class="planet-courses-theme"
  [itemData]="data.courses"
  [link]="'myCourses'"
  [emptyLink]="'/courses'"
  [shelfName]="'courseIds'">
</planet-dashboard-tile>
<planet-dashboard-tile
  [cardTitle]="cardTitles.myTeams"
  [cardType]="'myTeams'"
  class="planet-teams-theme"
  [itemData]="data.myTeams"
  [link]="'myTeams'"
  [emptyLink]="'/teams'"
  [shelfName]="'myTeamIds'"
  (teamRemoved)="teamRemoved($event)">
</planet-dashboard-tile>
<planet-dashboard-tile
  [cardTitle]="cardTitles.myLife"
  [cardType]="'myLife'"
  [itemData]="myLifeItems"
  class="planet-meetups-theme">
</planet-dashboard-tile>
