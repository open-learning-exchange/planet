<mat-toolbar *ngIf="!isDialog">
  <button mat-icon-button (click)="goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <span i18n>Member Profile</span>
  <span class="toolbar-fill"></span>
  <button mat-icon-button [matMenuTriggerFor]="menu" class="mobile-only">
    <mat-icon>more_vert</mat-icon>
  </button>
  <button mat-stroked-button class="margin-lr-3 desktop-only" *ngIf="hasAchievement && (user.name === urlName || user.isUserAdmin) && !isDialog" [routerLink]="['achievements', { planet: userDetail.planetCode }]">
    <mat-icon class="margin-lr-3">visibility</mat-icon>
    <span i18n>View Achievements</span>
  </button>
  <button mat-raised-button color="accent" class="margin-lr-3 desktop-only" *ngIf="editable && !isDialog" [routerLink]="['../../update/', urlName]">
    <mat-icon>mode_edit</mat-icon>
    <span i18n>Edit Profile</span>
  </button>
  <a mat-raised-button color="accent" class="margin-lr-3 desktop-only" *ngIf="editable && !isDialog" i18n [planetChangePassword]="userDetail">Change Password</a>
</mat-toolbar>
<mat-menu #menu="matMenu">
  <button mat-menu-item *ngIf="hasAchievement && (user.name === urlName || user.isUserAdmin) && !isDialog" [routerLink]="['achievements', { planet: userDetail.planetCode }]">
    <mat-icon>visibility</mat-icon>
    <span i18n>View Achievements</span>
  </button>
  <button mat-menu-item *ngIf="editable && !isDialog" [routerLink]="['../../update/', urlName]">
    <mat-icon>mode_edit</mat-icon>
    <span i18n>Edit Profile</span>
  </button>
  <button mat-menu-item *ngIf="editable && !isDialog" [planetChangePassword]="userDetail">
    <mat-icon>lock</mat-icon>
    <span i18n>Change Password</span>
  </button>
</mat-menu>
<div class="space-container">
  <div class="view-container">
    <div class="profile-container">
      <div class="profile-image-section">
        <ng-container *ngIf="userDetail._attachments; else noAttachment">
          <img class="profile-image-large" [src]="imageSrc">
        </ng-container>
        <ng-template #noAttachment>
          <img class="profile-image-large" src="assets/image.png">
        </ng-template>
      </div>
      <mat-list class="profile-list-lt">
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>Full Name</h4>
          <p matLine><b>{{userDetail.firstName ? userDetail.firstName + ' ' + userDetail.middleName + ' ' + userDetail.lastName : 'N/A'}}</b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>Email</h4>
          <p matLine><b>{{userDetail.email || 'N/A'}}</b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>Language</h4>
          <p matLine><b>{{userDetail.language || 'N/A'}}</b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>Number of Visits</h4>
          <p matLine><b>{{totalLogins || ''}}</b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
      </mat-list>
      <mat-list class="profile-list-rt">
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>DOB</h4>
          <p matLine><b>{{(userDetail.birthDate | date: 'fullDate') || 'N/A'}}</b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>Phone</h4>
          <p matLine><b>{{userDetail.phoneNumber || 'N/A'}}</b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>Level</h4>
          <p matLine><b><planet-language-label [options]="educationLevel" [label]="userDetail.level || 'N/A'"></planet-language-label></b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <h4 class="primary-text-color" matLine i18n>Last Login</h4>
          <p matLine><b>{{(lastLogin || '') | date: 'mediumDate'}} {{(lastLogin || '') | date: 'shortTime'}}</b></p>
        </mat-list-item>
        <mat-divider></mat-divider>
      </mat-list>
    </div>
  </div>
</div>
