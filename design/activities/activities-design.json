{"views":{"byPlanet":{"map":"function (doc) {\r\n        emit(doc.createdOn, 1);\r\n      }","reduce":"_count"},"byPlanetRecent":{"map":"function (doc) {\r\n        var today = new Date(Date.now()).setHours(0, 0, 0, 0);\r\n        var docDate = doc.loginTime || doc.time;\r\n        // 86400000 milliseconds per day\r\n        // 29 previous days plus current day = most recent 30 days\r\n        if ((today - docDate) < (29 * 86400000)) {\r\n          emit(doc.createdOn, 1);\r\n        }\r\n      }","reduce":"_count"},"grouped":{"map":"function (doc) {\r\n        var time = doc.loginTime || doc.time;\r\n        var date = new Date(time);\r\n        if (typeof time === 'number') {\r\n          emit({ createdOn: doc.createdOn, parentCode: doc.parentCode, month: date.getMonth(), year: date.getFullYear(), resourceId: doc.resourceId, title: doc.title, user: doc.user }, time);\r\n        }\r\n      }","reduce":"_stats"},"byUser":{"map":"function (doc) {\r\n        var time = doc.loginTime || doc.time;\r\n        if (typeof time === 'number') {\r\n          emit({ createdOn: doc.createdOn, parentCode: doc.parentCode, user: doc.user }, time);\r\n        }\r\n      }","reduce":"_stats"}}}