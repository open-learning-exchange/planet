{"views":{"submissionCounts":{"map":"function(doc) {\n        if (doc.type === 'survey') {\n          var teamId = doc.team && doc.team._id ? doc.team._id : (doc.parent && doc.parent.teamId ? doc.parent.teamId : null);\n          var status = doc.status || 'pending';\n          emit([doc.parentId, teamId, status], 1);\n        }\n      }","reduce":"_count"},"parentSurveys":{"map":"function(doc) {\n        if (doc.type === 'survey' && doc.parent && doc.parent._id) {\n          var teamId = doc.team && doc.team._id ? doc.team._id : (doc.parent && doc.parent.teamId ? doc.parent.teamId : null);\n          var status = doc.status || 'pending';\n          emit(['parent', doc.parent._id], {\n            parentDoc: {\n              _id: doc.parent._id,\n              _rev: doc.parent._rev,\n              name: doc.parent.name,\n              description: doc.parent.description,\n              questions: doc.parent.questions,\n              type: doc.parent.type,\n              sourcePlanet: doc.parent.sourcePlanet\n            },\n            status: status,\n            teamId: teamId\n          });\n        }\n      }"}}}