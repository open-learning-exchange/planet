{"views":{"enrollment":{"map":"function (doc) {\r\n        emit({ userId: doc.userId, courseId: doc.courseId } , doc.createdDate);\r\n      }","reduce":"_stats"},"completion":{"map":"function (doc) {\r\n        if (doc.passed) {\r\n          emit({ userId: doc.userId, courseId: doc.courseId } , doc.updatedDate);\r\n        }\r\n      }","reduce":"_stats"},"steps":{"map":"function (doc) {\r\n        // Found sometimes course progress record stepNum 0\r\n        if (doc.passed && doc.stepNum > 0) {\r\n          emit({ userId: doc.userId, courseId: doc.courseId, stepNum: doc.stepNum } , doc.updatedDate);\r\n        }\r\n      }","reduce":"_stats"}}}